import{a as H,b as R}from"./chunk-VHCR5GTF.js";import{a as q,f as B}from"./chunk-ZRQL3D3J.js";import{h as G}from"./chunk-SAJZMKQC.js";import{Da as x,Fa as d,Ha as h,I as y,Ia as T,L as v,Ma as E,Na as M,Oa as F,P as D,Pa as s,Qa as p,Ra as I,U as a,Va as O,W as S,Wa as w,Xa as c,a as u,ab as L,b as k,db as $,eb as j,k as _,m as g,q as P,qb as A,wa as l,x as C,z as b}from"./chunk-J63QA2TQ.js";function K(t){return typeof t<"u"&&"frontShiny"in t}var Y=(()=>{let i=class i{constructor(){this.httpClient=a(q)}getDetails(e){if(K(e))return{frontShiny:e.frontShiny,abilities:e.abilities,stats:e.stats};let{abilities:n,stats:r}=H(e.abilities,e.stats);return{frontShiny:e.sprites.front_shiny,stats:r,abilities:n}}pokemonDetailsTransformer(e,n){let{id:r,name:o,height:m,weight:Z,stats:tt,abilities:et}=e,z=this.getDetails(e);return k(u({},z),{id:r,name:o,height:m,weight:Z,color:n?.color?.name??"",shape:n?.shape?.name??"",evolvesFromSpecies:n?.evolves_from_species?.name??""})}getPokemonDetails(e,n){return C(()=>!n,this.httpClient.get(`https://pokeapi.co/api/v2/pokemon/${e}`),g(n)).pipe(v(o=>this.httpClient.get(`https://pokeapi.co/api/v2/pokemon-species/${o.id}`).pipe(P(m=>this.pokemonDetailsTransformer(o,m)),y(3),b(m=>(console.error(m),_)))))}};i.\u0275fac=function(n){return new(n||i)},i.\u0275prov=D({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();var N=()=>[import("./chunk-OZEVQVUU.js").then(t=>t.PokemonStatisticsComponent),import("./chunk-UQCGL2E2.js").then(t=>t.PokemonAbilitiesComponent),import("./chunk-NBAWFOCB.js").then(t=>t.PokemonPhysicalComponent)];function Q(t,i){if(t&1&&I(0,"app-pokemon-physical",5)(1,"app-pokemon-statistics",6)(2,"app-pokemon-abilities",7),t&2){let f=w();d("pokemonDetails",f),l(1),d("statistics",f.stats),l(1),d("abilities",f.abilities)}}function U(t,i){t&1&&(s(0,"p"),c(1,"Loading...."),p())}function V(t,i){t&1&&(s(0,"p"),c(1,"Placeholder of Pokemon"),p())}function W(t,i){t&1&&(s(0,"p"),c(1,"Failed to load dependencies"),p())}function X(t,i){t&1&&(h(0,Q,3,3)(1,U,2,0)(2,V,2,0)(3,W,2,0),M(4,0,N,1,2,3,3,4,E),F())}var _t=(()=>{let i=class i{constructor(){this.id=1,this.pokemonDetailsService=a(Y),this.pokemonListService=a(R),this.router=a(B)}ngOnInit(){this.pokemonDetails$=this.pokemonDetailsService.getPokemonDetails(this.id,history.state?.pokemon)}backToPage(){let e=this.pokemonListService.getPage(this.id);this.pokemonListService.currentPage.set(e-1),this.router.navigate(["/list"],{queryParams:{page:e}})}};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=S({type:i,selectors:[["app-pokemon"]],inputs:{id:["id","id",e=>A(e,1)]},standalone:!0,features:[x,L],decls:6,vars:3,consts:[[1,"content"],[1,"button-bar"],[3,"click"],[200],[500],[3,"pokemonDetails"],[3,"statistics"],[3,"abilities"]],template:function(n,r){if(n&1&&(s(0,"div",0),h(1,X,6,0),$(2,"async"),p(),s(3,"div",1)(4,"button",2),O("click",function(){return r.backToPage()}),c(5,"Go back"),p()()),n&2){let o;l(1),T(1,(o=j(2,1,r.pokemonDetails$))?1:-1,o)}},dependencies:[G],styles:[".content[_ngcontent-%COMP%]{padding:1rem;display:flex;flex-direction:column}.button-bar[_ngcontent-%COMP%]{padding:1rem}button[_ngcontent-%COMP%]{padding:.25rem;border-radius:4px}app-pokemon-statistics[_ngcontent-%COMP%], app-pokemon-physical[_ngcontent-%COMP%], app-pokemon-abilities[_ngcontent-%COMP%]{margin-bottom:.5rem}"],changeDetection:0});let t=i;return t})();export{_t as PokemonComponent};
